<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pilih Fitur</title>
    <link rel="stylesheet" href="style.css"> 
</head>
<body>

<header>
    <h1>Pilih Fungsionalitas</h1>
    <p id="mapel-display">Memuat Mata Pelajaran...</p>
</header>

<section class="selection-area">
    <h2>Pilih Menu Pembelajaran</h2>
    <div class="card-container" id="feature-buttons">
        
        <div class="card-menu">
            <h3>Cek Nilai / Laporan</h3>
            <p>Lihat detail nilai Job, laporan yang belum dikumpulkan, dan nilai akhir praktik.</p>
            <a href="#" class="btn-primary" data-fitur="Nilai">Pilih Kelas</a> 
        </div>

        <div class="card-menu">
            <h3>Materi Pelajaran (PDF/Doc)</h3>
            <p>Akses dokumen teori dan praktik untuk dipelajari.</p>
            <a href="#" class="btn-primary" data-fitur="Materi">Pilih Kelas</a>
        </div>
        
        <div class="card-menu">
            <h3>Video Pembelajaran</h3>
            <p>Tonton koleksi video praktik dan teori.</p>
            <a href="#" class="btn-primary" data-fitur="Video">Pilih Kelas</a>
        </div>

        <div class="card-menu">
            <h3>Latihan Soal / Kuis</h3>
            <p>Uji pemahaman dengan latihan dan evaluasi mandiri (Google Form/Kuis).</p>
            <a href="#" class="btn-primary" data-fitur="Soal">Pilih Kelas</a>
        </div>
    </div>
    
    <hr>
    <a href="index.html">← Kembali ke Pilihan Mata Pelajaran</a>
</section>

<footer>
    <p>Portal Pembelajaran • Sigit Prabowo</p> 
</footer>

<script>
    const params = new URLSearchParams(window.location.search);
    const mapel = params.get('mapel'); 
    const displayEl = document.getElementById('mapel-display');
    const featureContainer = document.getElementById('feature-buttons');
    const classOptions = ['XI SA', 'XI SB', 'XI SC']; 

    if (mapel) {
        displayEl.textContent = `Mata Pelajaran yang dipilih: ${mapel}`;

        featureContainer.querySelectorAll('.btn-primary').forEach(button => {
            button.addEventListener('click', (e) => {
                e.preventDefault();
                const fitur = e.target.getAttribute('data-fitur');
                
                // Pop-up/Prompt untuk memilih kelas
                const classSelection = prompt(`Anda memilih: ${fitur}\n\nPilih Kelas (XI SA, XI SB, XI SC):`);
                
                if (classSelection && classOptions.includes(classSelection.toUpperCase())) {
                    const selectedClass = classSelection.toUpperCase();
                    
                    // Redirect ke nilai.html dengan 3 parameter
                    window.location.href = `nilai.html?mapel=${mapel}&fitur=${fitur}&class=${selectedClass}`;
                } else if (classSelection) {
                    alert('Pilihan kelas tidak valid. Pilih antara XI SA, XI SB, atau XI SC.');
                }
            });
        });
    } else {
        displayEl.textContent = 'Mata Pelajaran tidak valid. Silakan kembali.';
    }
</script>

</body>
</html>
