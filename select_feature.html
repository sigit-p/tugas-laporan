<!DOCTYPE html>
<html lang="id">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Pilih Fitur</title>
Â  Â  <link rel="stylesheet" href="style.css">Â 
</head>
<body>

<header>
Â  Â  Â  Â  <h1>Pilihan Mapel</h1>
Â  Â  <p id="mapel-display">Memuat Mata Pelajaran...</p>
</header>

<section class="selection-area">
Â  Â  <h2>Pilih Menu Pembelajaran</h2>
Â  Â  <div class="card-container" id="feature-buttons">
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="card-menu">
Â  Â  Â  Â  Â  Â  <h3>Cek Nilai / Laporan</h3>
Â  Â  Â  Â  Â  Â  <p>Lihat detail nilai Job, laporan yang belum dikumpulkan, dan nilai akhir praktik.</p>
Â  Â  Â  Â  Â  Â  <a href="#" class="btn-primary" data-fitur="Nilai">Pilih Kelas</a>Â 
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="card-menu hidden-feature">
Â  Â  Â  Â  Â  Â  <h3>Materi Pelajaran (PDF/Doc)</h3>
Â  Â  Â  Â  Â  Â  <p>Akses dokumen teori dan praktik untuk dipelajari.</p>
Â  Â  Â  Â  Â  Â  <a href="#" class="btn-primary" data-fitur="Materi">Pilih Kelas</a>
Â  Â  Â  Â  </div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <div class="card-menu hidden-feature">
Â  Â  Â  Â  Â  Â  <h3>Video Pembelajaran</h3>
Â  Â  Â  Â  Â  Â  <p>Tonton koleksi video praktik dan teori.</p>
Â  Â  Â  Â  Â  Â  <a href="#" class="btn-primary" data-fitur="Video">Pilih Kelas</a>
Â  Â  Â  Â  </div>

Â  Â  Â  Â  <div class="card-menu hidden-feature">
Â  Â  Â  Â  Â  Â  <h3>Latihan Soal / Kuis</h3>
Â  Â  Â  Â  Â  Â  <p>Uji pemahaman dengan latihan dan evaluasi mandiri (Google Form/Kuis).</p>
Â  Â  Â  Â  Â  Â  <a href="#" class="btn-primary" data-fitur="Soal">Pilih Kelas</a>
Â  Â  Â  Â  </div>
Â  Â  </div>
Â  Â Â 
Â  Â  <hr>
Â  Â  <a href="index.html">â† Kembali ke Pilihan Mata Pelajaran</a>
</section>

<div id="classModal" class="modal">
Â  <div class="modal-content">
Â  Â  <span class="close-btn">&times;</span>
Â  Â  <h3 id="modal-title">Pilih Kelas untuk [Fitur]</h3>
Â  Â  <p>Silakan pilih kelas Anda:</p>
Â  Â  <div id="class-buttons-container" class="card-container">
Â  Â  Â  </div>
Â  Â  <input type="hidden" id="selectedFeature">
Â  </div>
</div>
Â  Â Â 
<footer>
Â  Â  <p>Portal Pembelajaran â€¢ Sigit Prabowo</p>Â 
</footer>

<script>
Â  Â  // HAPUS semua teks komentar di luar tag <script> yang menyebabkan teks muncul di web
Â  Â  const params = new URLSearchParams(window.location.search);
Â  Â  const mapel = params.get('mapel');Â 
Â  Â  const displayEl = document.getElementById('mapel-display');
Â  Â  const featureContainer = document.getElementById('feature-buttons');
   let classOptions = ['XI SA', 'XI SB', 'XI SC']; // Variabel harus diubah menjadi 'let'
Â  Â Â 
Â  Â  // ğŸ”¥ LOGIKA KOREKSI BARU ğŸ”¥
Â  Â  if (mapel === 'PSSM') {
Â  Â  Â  Â  // Jika mapel adalah PSSM, hanya sediakan XI SA.
Â  Â  Â  Â  classOptions = ['XI SA'];
Â  Â  }
Â  Â  // ---------------------------
Â  Â Â 
Â  Â  const modal = document.getElementById('classModal');
Â  Â  const modalTitle = document.getElementById('modal-title');
Â  Â  const selectedFeatureInput = document.getElementById('selectedFeature');
Â  Â  const classButtonsContainer = document.getElementById('class-buttons-container');
Â  Â  const closeBtn = document.querySelector('.close-btn');

Â  Â  // 1. Inisialisasi Tampilan
Â  Â  if (mapel) {
Â  Â  Â  Â  displayEl.textContent = `Mata Pelajaran yang dipilih: ${mapel}`;

Â  Â  Â  Â  // 2. Pasang Event Listener ke Tombol Fitur (Tampilkan Modal)
Â  Â  Â  Â  featureContainer.querySelectorAll('.btn-primary').forEach(button => {
Â  Â  Â  Â  Â  Â  button.addEventListener('click', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  const fitur = e.target.getAttribute('data-fitur');
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  modalTitle.textContent = `Pilih Kelas untuk ${fitur}`;
Â  Â  Â  Â  Â  Â  Â  Â  selectedFeatureInput.value = fitur; // Simpan fitur yang dipilih
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Tampilkan Modal
Â  Â  Â  Â  Â  Â  Â  Â  modal.style.display = 'block';
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Hapus tombol kelas yang lama
Â  Â  Â  Â  Â  Â  Â  Â  classButtonsContainer.innerHTML = '';Â 
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Buat tombol kelas baru secara dinamis di Modal
Â  Â  Â  Â  Â  Â  Â  Â  classOptions.forEach(cls => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const buttonEl = document.createElement('a');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  buttonEl.href = '#';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  buttonEl.className = 'btn-class-select';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  buttonEl.textContent = cls;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Pasang Event Listener saat tombol kelas diklik
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  buttonEl.addEventListener('click', (e) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const selectedClass = e.target.textContent;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const selectedFitur = selectedFeatureInput.value;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Redirect ke nilai.html dengan 3 parameter
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  window.location.href = `nilai.html?mapel=${mapel}&fitur=${selectedFitur}&class=${selectedClass}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  classButtonsContainer.appendChild(buttonEl);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  });
Â  Â  Â  Â Â 
Â  Â  Â  Â  // 3. Logika Menutup Modal
Â  Â  Â  Â  closeBtn.onclick = function() {
Â  Â  Â  Â  Â  Â  modal.style.display = 'none';
Â  Â  Â  Â  }
Â  Â  Â  Â  window.onclick = function(event) {
Â  Â  Â  Â  Â  Â  if (event.target == modal) {
Â  Â  Â  Â  Â  Â  Â  Â  modal.style.display = 'none';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }

} else {
Â  Â  Â  Â  // ğŸ”¥ GANTI displayEl.textContent MENJADI displayEl.innerHTML ğŸ”¥
        // Dan tambahkan link <a> ke index.html
Â  Â  Â  Â  displayEl.innerHTML = `Mata Pelajaran tidak valid. Silakan 
                               <a href="index.html" style="color: blue; text-decoration: underline;">kembali</a>.`;
        
        // Sembunyikan semua tombol fitur agar hanya pesan error yang terlihat
        featureContainer.style.display = 'none'; 
Â  Â  }
</script>

</body>
</html>
